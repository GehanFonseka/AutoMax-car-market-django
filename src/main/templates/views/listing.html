{% extends 'base/base.html' %}
{% load static %}

{% block 'title' %}
<title>AutoNation - {{ listing.model }} Listing</title>
{% endblock %}

{% block 'body' %}
<main style="font-family: Arial, sans-serif; background-color: #f2f4f8; padding: 20px;">

    <!-- Hero Section -->
    <section class="container" style="margin-bottom: 30px;">
        <div class="row align-items-center">
            <!-- Image -->
            <div class="col-md-6 text-center">
                <img src="{{ listing.image.url }}" alt="{{ listing.model }} Image" 
                     style="width: 100%; max-width: 500px; border-radius: 20px; box-shadow: 0 8px 15px rgba(0, 0, 0, 0.2); 
                            transform: scale(1.02); transition: transform 0.3s; margin-left: -70px;">
            </div>
            
            <!-- Title & Seller Info -->
            <div class="col-md-6">
                <h1 style="font-size: 2.8rem; color: #333; font-weight: bold; text-shadow: 1px 2px 5px rgba(0, 0, 0, 0.2);">{{ listing.model }}</h1>
                <p style="font-size: 1.2rem; color: #555; margin: 10px 0;">Listed by: <strong>{{ listing.seller.user.username }}</strong></p>
                <p style="font-size: 1rem; color: #aaa;">Last Updated: {{ listing.updated_at }}</p>
            </div>
        </div>
    </section>

    <section style="max-width: 1200px; margin: 0 auto; font-family: Arial, sans-serif; padding: 20px; display: flex; flex-wrap: wrap; gap: 30px; justify-content: center;">

        <!-- Information Section -->
        <div style="flex: 1 1 45%; background: linear-gradient(145deg, #e4e8ec, #ffffff); border-radius: 20px; box-shadow: 10px 10px 20px #c9ccd1, -10px -10px 20px #ffffff; padding: 20px; margin-bottom: 30px; height: 450px;">
            <h2 style="font-size: 2rem; color: #444; margin-bottom: 15px; border-bottom: 2px solid #ddd; padding-bottom: 10px; text-shadow: 1px 1px 3px rgba(0, 0, 0, 0.1);">Auto Information</h2>
            <table style="width: 100%; border-collapse: collapse;">
                <tbody>
                    <tr>
                        <th style="text-align: left; padding: 15px; background: linear-gradient(145deg, #f3f3f3, #e9e9e9); font-weight: bold;">Brand</th>
                        <td style="padding: 15px; border-bottom: 1px solid #ddd;">{{ listing.brand|capfirst }}</td>
                    </tr>
                    <tr>
                        <th style="text-align: left; padding: 15px; background: linear-gradient(145deg, #f3f3f3, #e9e9e9); font-weight: bold;">Vin</th>
                        <td style="padding: 15px; border-bottom: 1px solid #ddd;">{{ listing.vin }}</td>
                    </tr>
                    <tr>
                        <th style="text-align: left; padding: 15px; background: linear-gradient(145deg, #f3f3f3, #e9e9e9); font-weight: bold;">Engine</th>
                        <td style="padding: 15px; border-bottom: 1px solid #ddd;">{{ listing.engine }}</td>
                    </tr>
                    <tr>
                        <th style="text-align: left; padding: 15px; background: linear-gradient(145deg, #f3f3f3, #e9e9e9); font-weight: bold;">Mileage</th>
                        <td style="padding: 15px; border-bottom: 1px solid #ddd;">{{ listing.mileage }}</td>
                    </tr>
                    <tr>
                        <th style="text-align: left; padding: 15px; background: linear-gradient(145deg, #f3f3f3, #e9e9e9); font-weight: bold;">Color</th>
                        <td style="padding: 15px; border-bottom: 1px solid #ddd;">{{ listing.color }}</td>
                    </tr>
                    <tr>
                        <th style="text-align: left; padding: 15px; background: linear-gradient(145deg, #f3f3f3, #e9e9e9); font-weight: bold;">Transmission</th>
                        <td style="padding: 15px; border-bottom: 1px solid #ddd;">{{ listing.transmission }}</td>
                    </tr>
                </tbody>
            </table>
        </div>
    
 <!-- Container for both sections -->
<div style="display: flex; flex-direction: column; gap: 10px; width: 300px; ">

    <!-- Location Section -->
    <div style="flex: 1 1 100%; max-width: 450px; display: flex; flex-direction: column;">
    <div class="card mb-4 shadow-sm" style="border: 1px solid #ddd; border-radius: 20px; box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1); display: flex; flex-direction: column; background: transparent; height: 100%;">
            <div class="card-header py-3" style="background-color: #007bff; color: white; text-align: center; border-radius: 20px 20px 0 0; height: 60px;">
                <h4 class="my-0 fw-normal" style="margin: 0;">Location</h4>
            </div>
            <div class="card-body" style="background-color: #fff; padding: 20px; flex: 1; display: flex; flex-direction: column; justify-content: space-between; border-radius: 0 0 20px 20px;">
                <ul class="list-unstyled" style="font-size: 1.3rem; color: #555;">
                    <li>{{ listing.location.city }}, {{ listing.location.state }}, {{ listing.location.zip_code }}</li>
                </ul>
            </div>
        </div>
    </div>

    <!-- Contact Section -->
    <div style="flex: 1 1 100%; max-width: 450px; display: flex; flex-direction: column;">
        <div class="card mb-4 shadow-sm" style="border: 1px solid #ddd; border-radius: 20px; box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1); display: flex; flex-direction: column; background: transparent; height: 100%;">
            <div class="card-header py-3" style="background-color: #007bff; color: white; text-align: center; border-radius: 20px 20px 0 0; height: 60px;">
                <h4 class="my-0 fw-normal" style="margin: 0;">Contact</h4>
            </div>
            <div class="card-body" style="background-color: #fff; padding: 20px; flex: 1; display: flex; flex-direction: column; justify-content: space-between; border-radius: 0 0 20px 20px;">
                <div style="display: flex; flex-direction: column; gap: 20px;">
                    <button class="w-100 btn btn-lg btn-outline-primary" style="padding: 6.3px; border: 2px solid #007bff; color: #007bff; border-radius: 8px; text-align: center;">
                        {{ listing.seller.phone_number }}
                    </button>
                    <button id="sendEmail" class="w-100 btn btn-lg btn-outline-primary" style="padding: 6.3px; border: 2px solid #007bff; color: #007bff; border-radius: 8px; text-align: center;">
                        Send Email
                    </button>
                </div>
            </div>
        </div>
    </div>

</div>

        
    
    </section>
    
     
 


    <section class="container" style="background-color: #fff; padding: 20px; border-radius: 10px; margin-bottom: 30px; box-shadow: 0 8px 20px rgba(0, 0, 0, 0.2); transform-style: preserve-3d; transition: transform 0.5s ease, box-shadow 0.5s ease; perspective: 1000px;">
        <h2 style="font-size: 1.8rem; color: #333; border-bottom: 2px solid #ddd; padding-bottom: 10px; margin-bottom: 20px; text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);">
            Description
        </h2>
        <p style="font-size: 1rem; line-height: 1.6; color: #555; transform: translateZ(20px);">
            {{ listing.description }}
        </p>
    </section>
    
</main>
{% endblock %}
